# Copyright (c) 2024 ZMK Contributors
# SPDX-License-Identifier: MIT

description: |
  Threshold-based temporary layer input processor for ZMK.
  Activates a layer only when accumulated mouse movement exceeds the threshold.

compatible: "zmk,input-processor-temp-layer-threshold"

properties:
  "#input-processor-cells":
    type: int
    required: true
    const: 2

  threshold:
    type: int
    default: 5
    description: |
      Movement threshold in pixels. The layer will only activate
      when the cumulative absolute movement exceeds this value.

  threshold-time-ms:
    type: int
    default: 100
    description: |
      Time window in milliseconds for accumulating movement.

  require-prior-idle-ms:
    type: int
    default: 0
    description: |
      Time in milliseconds that must pass after the last keystroke
      before the layer can be toggled.

  excluded-positions:
    type: array
    default: []
    description: |
      Array of key positions that will NOT trigger layer deactivation.

input-processor-cells:
  - param1
  - param2
